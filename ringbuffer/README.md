本程序摘抄自：http://www.cnblogs.com/Anker/p/3481373.html

如果只存在一个生产者和一个消费者可以将相应的锁去掉，此时是lock-free
